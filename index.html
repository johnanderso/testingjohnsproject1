<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Layout Test v1.2</title>
    <style>
        body { font-family: sans-serif; background: #f9f9f9; text-align: center; padding: 20px; color: #333; transition: background 1s; }
        .container { max-width: 400px; margin: 80px auto; padding: 30px; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .hidden { display: none !important; }
        button { background: #444; color: white; border: none; padding: 12px 20px; border-radius: 6px; cursor: pointer; margin-top: 15px; font-size: 16px; }
        input { width: 85%; padding: 10px; margin-top: 10px; border: 1px solid #ccc; border-radius: 4px; }
        #final-page { padding: 40px 20px; display: none; }
        .pink-text { color: #e91e63; font-weight: bold; }
    </style>
</head>
<body>

    <div id="step1" class="container">
        <h3>Layout Test v1.2</h3>
        <p>1. How are you feeling post-exams?</p>
        <input type="text" id="ans1" placeholder="Your status...">
        <br>
        <button type="button" onclick="showNext('step1', 'step2')">Next</button>
    </div>

    <div id="step2" class="container hidden">
        <h3>Academic Projection</h3>
        <p>2. Will you be resuming school early or at your own choice?</p>
        <input type="text" id="ans2" placeholder="Early or My Choice?">
        <br>
        <button type="button" onclick="showNext('step2', 'step3')">Next</button>
    </div>

    <div id="step3" class="container hidden">
        <h3>System Rating</h3>
        <p>3. Rate the clarity of these blocks (1-5):</p>
        <button type="button" onclick="startFinalSwitch()">1</button>
        <button type="button" onclick="startFinalSwitch()">2</button>
        <button type="button" onclick="startFinalSwitch()">3</button>
        <button type="button" onclick="startFinalSwitch()">4</button>
        <button type="button" onclick="startFinalSwitch()">5</button>
    </div>

    <div id="loader" class="container hidden">
        <h2 id="load-text">Submitting...</h2>
    </div>

    <div id="final-page">
        <h1>Favour! ‚ù§Ô∏è</h1>
        <p>I know the recordings from the old device were lost, but I wanted to make sure you knew this...</p>
        <p>You've worked so hard, and I'm so proud of you.</p>
        <hr style="width: 50%; margin: 20px auto;">
        
        <h3>Wait‚ÄîReally?!... No take-backs allowed! üòâ</h3>
        
        <h2 class="pink-text">heheü•≤üòÅ‚ù§Ô∏è</h2>

        <audio id="bgMusic" loop>
            <source src="foreversweet.m4a" type="audio/mpeg">
        </audio>
    </div>

    <script>
        // Function to move between questions
        function showNext(currentId, nextId) {
            document.getElementById(currentId).classList.add('hidden');
            document.getElementById(nextId).classList.remove('hidden');
        }

        // Function for the final "Switching" moment
        function startFinalSwitch() {
            // Hide the rating screen
  
